### NSQ，实时分布式内存消息队列，优势
1.提倡分布式和分散的拓扑，没有单点故障，支持错容和高可用性，并提供可靠的消息交付保证

2.支持横向扩展，没有任何集中式代理

3.易于配置和部署，内置管理界面

### 应用场景
#### 异步处理
用户注册流程，写入DB，(用消息队列完成后续验证)邮件系统和短信系统，完成注册

#### 应用解耦
订单系统调用库存接口到库存系统，中间可以接入消息队列，从订单系统写入请求到消息队列，再订阅到库存系统

#### 流量削峰
秒杀场景，秒杀请求到请求处理之间接入消息队列，秒杀请求先写入消息队列，再根据规则读取到后续处理模块，可以为后端处理提供一定的缓冲区，保证后端服务稳定性

### 安装
[NSQ download](https://github.com/nsqio/nsq/releases)

### 角色
#### nsqd
守护进程，接收、排队并向客户端发送消息。

启动`nsqd`，指定`-broadcast-address=127.0.0.1`来配置广播地址： `./nsqd -broadcast-address=127.0.0.1`

#### nsqlookupd
维护所有nqsd状态、提供服务发现的守护进程。能为消费者查找特定`topic`下的nsqd，提供了运行时的自动发现服务。不维持持久状态，不需要与任何其他nsqlookupd实例协调来满足查询，消耗资源少，可以与其他服务共存，建议每个数据中心运行至少3个集群。

如果在搭配`nsqlookupd`使用模式下，需要再指定`nsqlookupd`地址：`./nsqd -broadcast-address=127.0.0.1 -lookupd-tcp-address=127.0.0.1:4160`，如果部署多个nsqlookupd节点的集群，可以指定多个`-lookupd-tcp-address`

#### nsqadmin
nsqd管理平台，一个实时监控集群状态、执行各种管理任务的Web管理平台，启动命令：`./nsqadmin -lookupd-http-address=127.0.0.1:4161`，打开浏览器`http://127.0.0.1:4171`访问管理页面。

